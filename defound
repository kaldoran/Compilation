# ---------------------------------------------------------------------- */
# Filename: error.h                                                      */
# Author: REYNAUD Nicolas                                                */
# Date: 2013-09-17 - 11:19:22                                            */
#                                                                        */
# ---------------------------------------------------------------------- */

#!/bin/perl
     
# les noms dans le tableau sont ceux des commentaires a cot√© des defines. Si vous les changer pensez a changer la valeur dans le .h
$total = 0;
open(FILE,"<./INC/syntax_tree.h") or die "POTATOES !";
print "char *node_name[] = {";
while (<FILE>) {
	chomp $_;
     	if($_ =~  m/#define\s+AT_[A-Z_]*\s+[0-9]+\s*\/\*\s*([a-zA-Z ]*?)\s*\*\//) {
	    print "\"$1\", ";
	    $total++;
	}
}
print "\b\b};\n";
print "Total de define : $total\n";
close (FILE);


